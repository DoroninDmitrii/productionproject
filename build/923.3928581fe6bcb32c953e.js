"use strict";(self.webpackChunkproductionproject=self.webpackChunkproductionproject||[]).push([[923],{1923:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$e});var o,r=n(5893);!function(e){e.INCORRECT_USER_DATA="INCORRECT_USER_DATA",e.INCORRECT_AGE="INCORRECT_AGE",e.INCORRECT_COUNTRY="INCORRECT_COUNTRY",e.NO_DATA="NO_DATA",e.SERVER_ERROR="SERVER_ERROR"}(o||(o={}));var a,i=n(4268),l=(0,i.hg)("profile/fetchProfileData",(function(e,t){return n=void 0,o=void 0,a=function(){var n,o,r,a;return function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(i){switch(i.label){case 0:n=t.extra,o=t.rejectWithValue,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.api.get("/profile/".concat(e))];case 2:if(!(r=i.sent()).data)throw new Error;return[2,r.data];case 3:return a=i.sent(),console.log(a),[2,o("Error")];case 4:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{u(a.next(e))}catch(e){t(e)}}function l(e){try{u(a.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,l)}u((a=a.apply(n,o||[])).next())}));var n,o,r,a})),u=function(e){var t;return null===(t=null==e?void 0:e.profile)||void 0===t?void 0:t.form},s=(0,i.hg)("profile/updateProfileData",(function(e,t){return n=void 0,r=void 0,i=function(){var e,n,r,a,i,l,s;return function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(c){switch(c.label){case 0:if(e=t.extra,n=t.rejectWithValue,r=t.getState,a=u(r()),(i=function(e){if(!e)return[o.NO_DATA];var t=e.first,n=e.lastname,r=e.age,a=e.country,i=[];return t&&n||i.push(o.INCORRECT_USER_DATA),r&&Number.isInteger(r)||i.push(o.INCORRECT_AGE),a||i.push(o.INCORRECT_COUNTRY),i}(a)).length)return[2,n(i)];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,e.api.put("/profile/".concat((null==a?void 0:a.id)||""),a)];case 2:if(!(l=c.sent()).data)throw new Error;return[2,l.data];case 3:return s=c.sent(),console.log(s),[2,n([o.SERVER_ERROR])];case 4:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function o(e){try{u(i.next(e))}catch(e){t(e)}}function l(e){try{u(i.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(o,l)}u((i=i.apply(n,r||[])).next())}));var n,r,a,i})),c=function(){return c=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c.apply(this,arguments)},d=(0,i.oM)({name:"profile",initialState:{readonly:!0,isLoading:!1,error:void 0,data:void 0},reducers:{setReadonly:function(e,t){e.readonly=t.payload},cancelEdit:function(e){e.readonly=!0,e.validateError=void 0,e.form=e.data},updateProfile:function(e,t){e.form=c(c({},e.form),t.payload)}},extraReducers:function(e){e.addCase(l.pending,(function(e,t){e.error=void 0,e.isLoading=!0})).addCase(l.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload,e.form=t.payload})).addCase(l.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload})).addCase(s.pending,(function(e,t){e.validateError=void 0,e.isLoading=!0})).addCase(s.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload,e.form=t.payload,e.readonly=!0,e.validateError=void 0})).addCase(s.rejected,(function(e,t){e.isLoading=!1,e.validateError=t.payload}))}}),p=d.actions,f=d.reducer,v=n(4611),h=n(2327),b=n(4809),g=n(6925),x=n(4002),y=n(71);!function(e){e.RUB="RUB",e.EUR="EUR",e.USD="USD"}(a||(a={}));var R=n(7294),m=n(4192),C=n(5910),O=n(6723),T=n(3855);function E(e,t){let[n,o]=(0,R.useState)(e),r=(0,T.E)(e);return(0,O.e)((()=>o(r.current)),[r,o,...t]),n}var S,j=n(3784),I=n(5394),w=n(2984),L=n(2720),N=n(1363),P=n(1497),A=n(4103),k=n(4575),U=n(6567),D=n(4157),z=n(3986),M=((S=M||{})[S.None=1]="None",S[S.Focusable=2]="Focusable",S[S.Hidden=4]="Hidden",S);let _=(0,I.yV)((function(e,t){let{features:n=1,...o}=e,r={ref:t,"aria-hidden":2==(2&n)||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...4==(4&n)&&2!=(2&n)&&{display:"none"}}};return(0,I.sY)({ourProps:r,theirProps:o,slot:{},defaultTag:"div",name:"Hidden"})}));function V(e={},t=null,n=[]){for(let[o,r]of Object.entries(e))Y(n,F(t,o),r);return n}function F(e,t){return e?e+"["+t+"]":t}function Y(e,t,n){if(Array.isArray(n))for(let[o,r]of n.entries())Y(e,F(t,o.toString()),r);else n instanceof Date?e.push([t,n.toISOString()]):"boolean"==typeof n?e.push([t,n?"1":"0"]):"string"==typeof n?e.push([t,n]):"number"==typeof n?e.push([t,`${n}`]):null==n?e.push([t,""]):V(n,t,e)}var G,$,B=n(5466),Q=n(3781),W=n(476),Z=(($=Z||{})[$.Open=0]="Open",$[$.Closed=1]="Closed",$),H=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(H||{}),K=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(K||{}),J=((G=J||{})[G.OpenListbox=0]="OpenListbox",G[G.CloseListbox=1]="CloseListbox",G[G.GoToOption=2]="GoToOption",G[G.Search=3]="Search",G[G.ClearSearch=4]="ClearSearch",G[G.RegisterOption=5]="RegisterOption",G[G.UnregisterOption=6]="UnregisterOption",G[G.RegisterLabel=7]="RegisterLabel",G);function q(e,t=(e=>e)){let n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,o=(0,k.z2)(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),r=n?o.indexOf(n):null;return-1===r&&(r=null),{options:o,activeOptionIndex:r}}let X={1:e=>e.dataRef.current.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0(e){if(e.dataRef.current.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,o=e.options.findIndex((e=>n(e.dataRef.current.value)));return-1!==o&&(t=o),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var n;if(e.dataRef.current.disabled||1===e.listboxState)return e;let o=q(e),r=(0,P.d)(t,{resolveItems:()=>o.options,resolveActiveIndex:()=>o.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...o,searchQuery:"",activeOptionIndex:r,activationTrigger:null!=(n=t.trigger)?n:1}},3:(e,t)=>{if(e.dataRef.current.disabled||1===e.listboxState)return e;let n=""!==e.searchQuery?0:1,o=e.searchQuery+t.value.toLowerCase(),r=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find((e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(o))})),a=r?e.options.indexOf(r):-1;return-1===a||a===e.activeOptionIndex?{...e,searchQuery:o}:{...e,searchQuery:o,activeOptionIndex:a,activationTrigger:1}},4:e=>e.dataRef.current.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},o=q(e,(e=>[...e,n]));return null===e.activeOptionIndex&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(o.activeOptionIndex=o.options.indexOf(n)),{...e,...o}},6:(e,t)=>{let n=q(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},ee=(0,R.createContext)(null);function te(e){let t=(0,R.useContext)(ee);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,te),t}return t}ee.displayName="ListboxActionsContext";let ne=(0,R.createContext)(null);function oe(e){let t=(0,R.useContext)(ne);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,oe),t}return t}function re(e,t){return(0,w.E)(t.type,X,e,t)}ne.displayName="ListboxDataContext";let ae=R.Fragment,ie=I.AN.RenderStrategy|I.AN.Static,le=(0,I.yV)((function(e,t){let{value:n,defaultValue:o,name:r,onChange:a,by:i=((e,t)=>e===t),disabled:l=!1,horizontal:u=!1,multiple:s=!1,...c}=e;const d=u?"horizontal":"vertical";let p=(0,j.T)(t),[f=(s?[]:void 0),v]=function(e,t,n){let[o,r]=(0,R.useState)(n),a=void 0!==e,i=(0,R.useRef)(a),l=(0,R.useRef)(!1),u=(0,R.useRef)(!1);return!a||i.current||l.current?!a&&i.current&&!u.current&&(u.current=!0,i.current=a,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(l.current=!0,i.current=a,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[a?e:o,(0,Q.z)((e=>(a||r(e),null==t?void 0:t(e))))]}(n,a,o),[h,b]=(0,R.useReducer)(re,{dataRef:(0,R.createRef)(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),g=(0,R.useRef)({static:!1,hold:!1}),x=(0,R.useRef)(null),y=(0,R.useRef)(null),C=(0,R.useRef)(null),T=(0,Q.z)("string"==typeof i?(e,t)=>{let n=i;return(null==e?void 0:e[n])===(null==t?void 0:t[n])}:i),E=(0,R.useCallback)((e=>(0,w.E)(S.mode,{1:()=>f.some((t=>T(t,e))),0:()=>T(f,e)})),[f]),S=(0,R.useMemo)((()=>({...h,value:f,disabled:l,mode:s?1:0,orientation:d,compare:T,isSelected:E,optionsPropsRef:g,labelRef:x,buttonRef:y,optionsRef:C})),[f,l,s,h]);(0,O.e)((()=>{h.dataRef.current=S}),[S]),(0,z.O)([S.buttonRef,S.optionsRef],((e,t)=>{var n;b({type:1}),(0,k.sP)(t,k.tJ.Loose)||(e.preventDefault(),null==(n=S.buttonRef.current)||n.focus())}),0===S.listboxState);let L=(0,R.useMemo)((()=>({open:0===S.listboxState,disabled:l,value:f})),[S,l,f]),N=(0,Q.z)((e=>{let t=S.options.find((t=>t.id===e));t&&B(t.dataRef.current.value)})),A=(0,Q.z)((()=>{if(null!==S.activeOptionIndex){let{dataRef:e,id:t}=S.options[S.activeOptionIndex];B(e.current.value),b({type:2,focus:P.T.Specific,id:t})}})),D=(0,Q.z)((()=>b({type:0}))),F=(0,Q.z)((()=>b({type:1}))),Y=(0,Q.z)(((e,t,n)=>e===P.T.Specific?b({type:2,focus:P.T.Specific,id:t,trigger:n}):b({type:2,focus:e,trigger:n}))),G=(0,Q.z)(((e,t)=>(b({type:5,id:e,dataRef:t}),()=>b({type:6,id:e})))),$=(0,Q.z)((e=>(b({type:7,id:e}),()=>b({type:7,id:null})))),B=(0,Q.z)((e=>(0,w.E)(S.mode,{0:()=>null==v?void 0:v(e),1(){let t=S.value.slice(),n=t.findIndex((t=>T(t,e)));return-1===n?t.push(e):t.splice(n,1),null==v?void 0:v(t)}}))),W=(0,Q.z)((e=>b({type:3,value:e}))),Z=(0,Q.z)((()=>b({type:4}))),H=(0,R.useMemo)((()=>({onChange:B,registerOption:G,registerLabel:$,goToOption:Y,closeListbox:F,openListbox:D,selectActiveOption:A,selectOption:N,search:W,clearSearch:Z})),[]),K={ref:p},J=(0,R.useRef)(null),q=(0,m.G)();return(0,R.useEffect)((()=>{J.current&&void 0!==o&&q.addEventListener(J.current,"reset",(()=>{B(o)}))}),[J,B]),R.createElement(ee.Provider,{value:H},R.createElement(ne.Provider,{value:S},R.createElement(U.up,{value:(0,w.E)(S.listboxState,{0:U.ZM.Open,1:U.ZM.Closed})},null!=r&&null!=f&&V({[r]:f}).map((([e,t],n)=>R.createElement(_,{features:M.Hidden,ref:0===n?e=>{var t;J.current=null!=(t=null==e?void 0:e.closest("form"))?t:null}:void 0,...(0,I.oA)({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:e,value:t})}))),(0,I.sY)({ourProps:K,theirProps:c,slot:L,defaultTag:ae,name:"Listbox"}))))})),ue=(0,I.yV)((function(e,t){var n;let o=(0,C.M)(),{id:r=`headlessui-listbox-button-${o}`,...a}=e,i=oe("Listbox.Button"),l=te("Listbox.Button"),u=(0,j.T)(i.buttonRef,t),s=(0,m.G)(),c=(0,Q.z)((e=>{switch(e.key){case N.R.Space:case N.R.Enter:case N.R.ArrowDown:e.preventDefault(),l.openListbox(),s.nextFrame((()=>{i.value||l.goToOption(P.T.First)}));break;case N.R.ArrowUp:e.preventDefault(),l.openListbox(),s.nextFrame((()=>{i.value||l.goToOption(P.T.Last)}))}})),d=(0,Q.z)((e=>{e.key===N.R.Space&&e.preventDefault()})),p=(0,Q.z)((e=>{if((0,A.P)(e.currentTarget))return e.preventDefault();0===i.listboxState?(l.closeListbox(),s.nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),l.openListbox())})),f=E((()=>{if(i.labelId)return[i.labelId,r].join(" ")}),[i.labelId,r]),v=(0,R.useMemo)((()=>({open:0===i.listboxState,disabled:i.disabled,value:i.value})),[i]),h={ref:u,id:r,type:(0,D.f)(e,i.buttonRef),"aria-haspopup":"listbox","aria-controls":null==(n=i.optionsRef.current)?void 0:n.id,"aria-expanded":i.disabled?void 0:0===i.listboxState,"aria-labelledby":f,disabled:i.disabled,onKeyDown:c,onKeyUp:d,onClick:p};return(0,I.sY)({ourProps:h,theirProps:a,slot:v,defaultTag:"button",name:"Listbox.Button"})})),se=(0,I.yV)((function(e,t){let n=(0,C.M)(),{id:o=`headlessui-listbox-label-${n}`,...r}=e,a=oe("Listbox.Label"),i=te("Listbox.Label"),l=(0,j.T)(a.labelRef,t);(0,O.e)((()=>i.registerLabel(o)),[o]);let u=(0,Q.z)((()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),s=(0,R.useMemo)((()=>({open:0===a.listboxState,disabled:a.disabled})),[a]);return(0,I.sY)({ourProps:{ref:l,id:o,onClick:u},theirProps:r,slot:s,defaultTag:"label",name:"Listbox.Label"})})),ce=(0,I.yV)((function(e,t){var n;let o=(0,C.M)(),{id:r=`headlessui-listbox-options-${o}`,...a}=e,i=oe("Listbox.Options"),l=te("Listbox.Options"),u=(0,j.T)(i.optionsRef,t),s=(0,m.G)(),c=(0,m.G)(),d=(0,U.oJ)(),p=null!==d?(d&U.ZM.Open)===U.ZM.Open:0===i.listboxState;(0,R.useEffect)((()=>{var e;let t=i.optionsRef.current;t&&0===i.listboxState&&t!==(null==(e=(0,B.r)(t))?void 0:e.activeElement)&&t.focus({preventScroll:!0})}),[i.listboxState,i.optionsRef]);let f=(0,Q.z)((e=>{switch(c.dispose(),e.key){case N.R.Space:if(""!==i.searchQuery)return e.preventDefault(),e.stopPropagation(),l.search(e.key);case N.R.Enter:if(e.preventDefault(),e.stopPropagation(),null!==i.activeOptionIndex){let{dataRef:e}=i.options[i.activeOptionIndex];l.onChange(e.current.value)}0===i.mode&&(l.closeListbox(),(0,L.k)().nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})})));break;case(0,w.E)(i.orientation,{vertical:N.R.ArrowDown,horizontal:N.R.ArrowRight}):return e.preventDefault(),e.stopPropagation(),l.goToOption(P.T.Next);case(0,w.E)(i.orientation,{vertical:N.R.ArrowUp,horizontal:N.R.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),l.goToOption(P.T.Previous);case N.R.Home:case N.R.PageUp:return e.preventDefault(),e.stopPropagation(),l.goToOption(P.T.First);case N.R.End:case N.R.PageDown:return e.preventDefault(),e.stopPropagation(),l.goToOption(P.T.Last);case N.R.Escape:return e.preventDefault(),e.stopPropagation(),l.closeListbox(),s.nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case N.R.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(l.search(e.key),c.setTimeout((()=>l.clearSearch()),350))}})),v=E((()=>{var e,t,n;return null!=(n=null==(e=i.labelRef.current)?void 0:e.id)?n:null==(t=i.buttonRef.current)?void 0:t.id}),[i.labelRef.current,i.buttonRef.current]),h=(0,R.useMemo)((()=>({open:0===i.listboxState})),[i]),b={"aria-activedescendant":null===i.activeOptionIndex||null==(n=i.options[i.activeOptionIndex])?void 0:n.id,"aria-multiselectable":1===i.mode||void 0,"aria-labelledby":v,"aria-orientation":i.orientation,id:r,onKeyDown:f,role:"listbox",tabIndex:0,ref:u};return(0,I.sY)({ourProps:b,theirProps:a,slot:h,defaultTag:"ul",features:ie,visible:p,name:"Listbox.Options"})})),de=(0,I.yV)((function(e,t){let n=(0,C.M)(),{id:o=`headlessui-listbox-option-${n}`,disabled:r=!1,value:a,...i}=e,l=oe("Listbox.Option"),u=te("Listbox.Option"),s=null!==l.activeOptionIndex&&l.options[l.activeOptionIndex].id===o,c=l.isSelected(a),d=(0,R.useRef)(null),p=(0,T.E)({disabled:r,value:a,domRef:d,get textValue(){var e,t;return null==(t=null==(e=d.current)?void 0:e.textContent)?void 0:t.toLowerCase()}}),f=(0,j.T)(t,d);(0,O.e)((()=>{if(0!==l.listboxState||!s||0===l.activationTrigger)return;let e=(0,L.k)();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=d.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[d,s,l.listboxState,l.activationTrigger,l.activeOptionIndex]),(0,O.e)((()=>u.registerOption(o,p)),[p,o]);let v=(0,Q.z)((e=>{if(r)return e.preventDefault();u.onChange(a),0===l.mode&&(u.closeListbox(),(0,L.k)().nextFrame((()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})})))})),h=(0,Q.z)((()=>{if(r)return u.goToOption(P.T.Nothing);u.goToOption(P.T.Specific,o)})),b=(0,W.g)(),g=(0,Q.z)((e=>b.update(e))),x=(0,Q.z)((e=>{b.wasMoved(e)&&(r||s||u.goToOption(P.T.Specific,o,0))})),y=(0,Q.z)((e=>{b.wasMoved(e)&&(r||s&&u.goToOption(P.T.Nothing))})),m=(0,R.useMemo)((()=>({active:s,selected:c,disabled:r})),[s,c,r]);return(0,I.sY)({ourProps:{id:o,ref:f,role:"option",tabIndex:!0===r?void 0:-1,"aria-disabled":!0===r||void 0,"aria-selected":c,disabled:void 0,onClick:v,onFocus:h,onPointerEnter:g,onMouseEnter:g,onPointerMove:x,onMouseMove:x,onPointerLeave:y,onMouseLeave:y},theirProps:i,slot:m,defaultTag:"li",name:"Listbox.Option"})})),pe=Object.assign(le,{Button:ue,Label:se,Options:ce,Option:de});var fe=n(9161),ve=n(1905);var he=function(){return he=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},he.apply(this,arguments)},be={"bottom left":"oFXYv","bottom right":"Jl5DR","top right":"c68gv","top left":"aacUe"};function ge(e){var t=e.className,n=e.items,o=e.value,a=e.defaultValue,i=e.onChange,l=e.readonly,u=e.direction,s=void 0===u?"bottom right":u,c=e.label,d=[be[s]];return(0,r.jsxs)(ve.U,he({gap:"4"},{children:[c&&(0,r.jsx)("span",{children:c+">"},void 0),(0,r.jsxs)(pe,he({disabled:l,as:"div",className:(0,v.A)("Lsvjv",{},[t]),value:o,onChange:i},{children:[(0,r.jsx)(pe.Button,he({className:"qrO2m"},{children:(0,r.jsx)(fe.zx,he({disabled:l},{children:null!=o?o:a}),void 0)}),void 0),(0,r.jsx)(pe.Options,he({className:(0,v.A)("V57wM",{},d)},{children:null==n?void 0:n.map((function(e){return(0,r.jsx)(pe.Option,he({value:e.value,disabled:e.disabled,as:R.Fragment},{children:function(t){var n,o=t.active,a=t.selected;return(0,r.jsxs)("li",he({className:(0,v.A)("mBjSA",(n={},n.lE7ga=o,n.yYTJV=e.disabled,n))},{children:[a&&"âœ“",e.content]}),void 0)}}),e.value)}))}),void 0)]}),void 0)]}),void 0)}var xe=[{value:a.RUB,content:a.RUB},{value:a.EUR,content:a.EUR},{value:a.USD,content:a.USD}];const ye=(0,R.memo)((function(e){var t=e.className,n=e.value,o=e.onChange,a=e.readonly,i=(0,h.$)("profile").t,l=(0,R.useCallback)((function(e){null==o||o(e)}),[o]);return(0,r.jsx)(ge,{className:t,value:n,defaultValue:i("Choose a currency"),label:i("Choose a currency"),onChange:l,items:xe,readonly:a,direction:"top right"},void 0)}));var Re;!function(e){e.Russia="Russia",e.Ukraine="Ukraine",e.Armenia="Armenia"}(Re||(Re={}));var me=[{value:Re.Russia,content:Re.Russia},{value:Re.Ukraine,content:Re.Ukraine},{value:Re.Armenia,content:Re.Armenia}];const Ce=(0,R.memo)((function(e){var t=e.className,n=e.value,o=e.onChange,a=e.readonly,i=(0,h.$)("profile").t,l=(0,R.useCallback)((function(e){null==o||o(e)}),[o]);return(0,r.jsx)(ge,{className:t,value:n,defaultValue:i("Choose a country"),label:i("Choose a country"),onChange:l,items:me,readonly:a,direction:"top right"},void 0)})),Oe={ProfileCard:"wW9jg",loading:"t07Zx",error:"i5YK3",editing:"DjTe7"};var Te=function(){return Te=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Te.apply(this,arguments)},Ee=function(e){var t,n=e.className,o=e.data,a=e.isLoading,i=e.error,l=e.readonly,u=e.onChangeFirstname,s=e.onChangeLastname,c=e.onChangeCity,d=e.onChangeAge,p=e.onChangeUsername,f=e.onChangeAvatar,R=e.onChangeCountry,m=e.onChangeCurrency,C=(0,h.$)("profile").t;if(a)return(0,r.jsx)(ve.U,Te({justify:"center",max:!0,className:(0,v.A)(Oe.ProfileCard,{},[n,Oe.loading])},{children:(0,r.jsx)(x.Z,{},void 0)}),void 0);if(i)return(0,r.jsx)(ve.U,Te({justify:"center",max:!0,className:(0,v.A)(Oe.ProfileCard,{},[n,Oe.error])},{children:(0,r.jsx)(b.xv,{theme:b.lg.ERROR,title:C("Mistake is happened"),text:C("Try again"),align:b.PH.CENTER},void 0)}),void 0);var O=((t={})[Oe.editing]=!l,t);return(0,r.jsxs)(ve.g,Te({max:!0,gap:"8",className:(0,v.A)(Oe.ProfileCard,O,[n])},{children:[(null==o?void 0:o.avatar)&&(0,r.jsx)(ve.U,Te({justify:"center",max:!0,className:Oe.avatarWrapper},{children:(0,r.jsx)(y.q,{src:null==o?void 0:o.avatar},void 0)}),void 0),(0,r.jsx)(g.I,{value:null==o?void 0:o.first,placeholder:C("Your name"),className:Oe.input,onChange:u,readonly:l},void 0),(0,r.jsx)(g.I,{value:null==o?void 0:o.lastname,placeholder:C("Your surname"),className:Oe.input,onChange:s,readonly:l},void 0),(0,r.jsx)(g.I,{onKeyPress:function(e){/[0-9]/.test(e.key)||e.preventDefault()},value:null==o?void 0:o.age,placeholder:C("Age"),className:Oe.input,onChange:d,readonly:l},void 0),(0,r.jsx)(g.I,{value:null==o?void 0:o.city,placeholder:C("City"),className:Oe.input,onChange:c,readonly:l},void 0),(0,r.jsx)(g.I,{value:null==o?void 0:o.username,placeholder:C("Username"),className:Oe.input,onChange:p,readonly:l},void 0),(0,r.jsx)(g.I,{value:null==o?void 0:o.avatar,placeholder:C("Avatar"),className:Oe.input,onChange:f,readonly:l},void 0),(0,r.jsx)(ye,{className:Oe.input,value:null==o?void 0:o.currency,onChange:m,readonly:l},void 0),(0,r.jsx)(Ce,{className:Oe.input,value:null==o?void 0:o.country,onChange:R,readonly:l},void 0)]}),void 0)},Se=function(e){var t;return null===(t=null==e?void 0:e.profile)||void 0===t?void 0:t.error},je=function(e){var t;return null===(t=null==e?void 0:e.profile)||void 0===t?void 0:t.isLoading},Ie=function(e){var t;return null===(t=null==e?void 0:e.profile)||void 0===t?void 0:t.data},we=function(e){var t;return null===(t=null==e?void 0:e.profile)||void 0===t?void 0:t.readonly},Le=function(e){var t;return null===(t=null==e?void 0:e.profile)||void 0===t?void 0:t.validateError},Ne=n(9250),Pe=n(1150),Ae=n(5461),ke=n(9319),Ue=n(3574),De=n(2636),ze=function(){return ze=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ze.apply(this,arguments)};const Me=function(e){var t=e.className,n=(0,h.$)("profile").t,o=(0,ke.v9)(we),a=(0,ke.v9)(Ue.m5),i=(0,ke.v9)(Ie),l=(0,Ae.T)(),u=(null==a?void 0:a.id)===(null==i?void 0:i.id),c=(0,R.useCallback)((function(){l(p.setReadonly(!1))}),[l]),d=(0,R.useCallback)((function(){l(p.cancelEdit())}),[l]),f=(0,R.useCallback)((function(){l(s())}),[l]);return(0,r.jsxs)(De.U,ze({max:!0,justify:"between",className:(0,v.A)("",{},[t])},{children:[(0,r.jsx)(b.xv,{title:n("Profile")},void 0),u&&(0,r.jsx)(r.Fragment,{children:o?(0,r.jsx)(fe.zx,ze({theme:fe.bn.OUTLINE,onClick:c},{children:n("Edit")}),void 0):(0,r.jsxs)(De.U,ze({gap:"8"},{children:[(0,r.jsx)(fe.zx,ze({theme:fe.bn.OUTLINE_RED,onClick:d},{children:n("Cancel")}),void 0),(0,r.jsx)(fe.zx,ze({theme:fe.bn.OUTLINE,onClick:f},{children:n("Save")}),void 0)]}),void 0)},void 0)]}),void 0)};var _e=n(2276),Ve=n(314),Fe=n(4882),Ye=function(){return Ye=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ye.apply(this,arguments)},Ge={profile:f};const $e=function(e){var t,n=e.className,a=(0,h.$)("profile"),i=a.t,s=(a.i18n,(0,Ae.T)()),c=(0,ke.v9)(u),d=(0,ke.v9)(je),f=(0,ke.v9)(Se),g=(0,ke.v9)(we),x=(0,ke.v9)(Le),y=(0,Ne.UO)().id,m=((t={})[o.SERVER_ERROR]=i("Server error"),t[o.NO_DATA]=i("Data is absented"),t[o.INCORRECT_USER_DATA]=i("Incorrect user data"),t[o.INCORRECT_COUNTRY]=i("Incorrect country"),t[o.INCORRECT_AGE]=i("Incorrect age"),t);(0,_e.Q)((function(){y&&s(l(y))}));var C=(0,R.useCallback)((function(e){s(p.updateProfile({first:e||""}))}),[s]),O=(0,R.useCallback)((function(e){s(p.updateProfile({lastname:e||""}))}),[s]),T=(0,R.useCallback)((function(e){s(p.updateProfile({age:Number(e||0)}))}),[s]),E=(0,R.useCallback)((function(e){s(p.updateProfile({city:e||""}))}),[s]),S=(0,R.useCallback)((function(e){s(p.updateProfile({username:e||""}))}),[s]),j=(0,R.useCallback)((function(e){s(p.updateProfile({avatar:e||""}))}),[s]),I=(0,R.useCallback)((function(e){s(p.updateProfile({currency:e}))}),[s]),w=(0,R.useCallback)((function(e){s(p.updateProfile({country:e}))}),[s]);return(0,r.jsx)(Pe.W,Ye({reducers:Ge,removeAfterUnmount:!0},{children:(0,r.jsx)(Ve.Z,Ye({className:(0,v.A)("",{},[n])},{children:(0,r.jsxs)(Fe.g,Ye({max:!0,gap:"16"},{children:[(0,r.jsx)(Me,{},void 0),(null==x?void 0:x.length)&&x.map((function(e){return(0,r.jsx)(b.xv,{theme:b.lg.ERROR,text:m[e]},e)})),(0,r.jsx)(Ee,{data:c,isLoading:d,error:f,onChangeFirstname:C,onChangeLastname:O,onChangeAge:T,onChangeCity:E,onChangeUsername:S,onChangeAvatar:j,onChangeCurrency:I,onChangeCountry:w,readonly:g},void 0)]}),void 0)}),void 0)}),void 0)}}}]);