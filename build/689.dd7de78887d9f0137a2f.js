"use strict";(self.webpackChunkproductionproject=self.webpackChunkproductionproject||[]).push([[689],{2047:(e,t,n)=>{n.d(t,{U:()=>r.U,g:()=>a.g});var r=n(3363),a=n(4092)},6689:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Be});var r=n(4478),a=n(9250),o=n(3007),i=n(8979),l=n(4092),u=n(4942),s=n(7294),c=n(9319),d=n(5861),p=n(4687),f=n.n(p),v=n(4268),b=(0,v.hg)("profile/fetchProfileData",function(){var e=(0,d.Z)(f().mark((function e(t,n){var r,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.extra,a=n.rejectWithValue,e.prev=1,e.next=4,r.api.get("/profile/".concat(t));case 4:if((o=e.sent).data){e.next=7;break}throw new Error;case 7:return e.abrupt("return",o.data);case 10:return e.prev=10,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",a("Error"));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()),g=function(e){var t;return null==e||null===(t=e.profile)||void 0===t?void 0:t.error},h=function(e){var t;return null==e||null===(t=e.profile)||void 0===t?void 0:t.isLoading},x=function(e){var t;return null==e||null===(t=e.profile)||void 0===t?void 0:t.form},m=function(e){return e.INCORRECT_USER_DATA="INCORRECT_USER_DATA",e.INCORRECT_AGE="INCORRECT_AGE",e.INCORRECT_COUNTRY="INCORRECT_COUNTRY",e.NO_DATA="NO_DATA",e.SERVER_ERROR="SERVER_ERROR",e}({}),y=function(e){if(!e)return[m.NO_DATA];var t=e.first,n=e.lastname,r=e.age,a=e.country,o=[];return t&&n||o.push(m.INCORRECT_USER_DATA),r&&Number.isInteger(r)||o.push(m.INCORRECT_AGE),a||o.push(m.INCORRECT_COUNTRY),o},R=(0,v.hg)("profile/updateProfileData",function(){var e=(0,d.Z)(f().mark((function e(t,n){var r,a,o,i,l,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.extra,a=n.rejectWithValue,o=n.getState,i=x(o()),!(l=y(i)).length){e.next=5;break}return e.abrupt("return",a(l));case 5:return e.prev=5,e.next=8,r.api.put("/profile/".concat((null==i?void 0:i.id)||""),i);case 8:if((u=e.sent).data){e.next=11;break}throw new Error;case 11:return e.abrupt("return",u.data);case 14:return e.prev=14,e.t0=e.catch(5),console.log(e.t0),e.abrupt("return",a([m.SERVER_ERROR]));case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,n){return e.apply(this,arguments)}}());function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=(0,v.oM)({name:"profile",initialState:{readonly:!0,isLoading:!1,error:void 0,data:void 0},reducers:{setReadonly:function(e,t){e.readonly=t.payload},cancelEdit:function(e){e.readonly=!0,e.validateError=void 0,e.form=e.data},updateProfile:function(e,t){e.form=C(C({},e.form),t.payload)}},extraReducers:function(e){e.addCase(b.pending,(function(e,t){e.error=void 0,e.isLoading=!0})).addCase(b.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload,e.form=t.payload})).addCase(b.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload})).addCase(R.pending,(function(e,t){e.validateError=void 0,e.isLoading=!0})).addCase(R.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload,e.form=t.payload,e.readonly=!0,e.validateError=void 0})).addCase(R.rejected,(function(e,t){e.isLoading=!1,e.validateError=t.payload}))}}),E=j.actions,S=j.reducer,T=function(e){var t;return null==e||null===(t=e.profile)||void 0===t?void 0:t.readonly},P=function(e){var t;return null==e||null===(t=e.profile)||void 0===t?void 0:t.validateError},N=n(1715),I=n(8312),L=n(379),A=n(2949),w=function(e){return e.RUB="RUB",e.EUR="EUR",e.USD="USD",e}({}),k=n(4192),D=n(5910),U=n(6723),M=n(3855);function z(e,t){let[n,r]=(0,s.useState)(e),a=(0,M.E)(e);return(0,U.e)((()=>r(a.current)),[a,r,...t]),n}var Z,_=n(3784),F=n(5394),V=n(2984),Y=n(2720),$=n(1363),G=n(1497),Q=n(4103),B=n(4575),W=n(6567),H=n(4157),K=n(3986),q=((Z=q||{})[Z.None=1]="None",Z[Z.Focusable=2]="Focusable",Z[Z.Hidden=4]="Hidden",Z);let J=(0,F.yV)((function(e,t){let{features:n=1,...r}=e,a={ref:t,"aria-hidden":2==(2&n)||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...4==(4&n)&&2!=(2&n)&&{display:"none"}}};return(0,F.sY)({ourProps:a,theirProps:r,slot:{},defaultTag:"div",name:"Hidden"})}));function X(e={},t=null,n=[]){for(let[r,a]of Object.entries(e))te(n,ee(t,r),a);return n}function ee(e,t){return e?e+"["+t+"]":t}function te(e,t,n){if(Array.isArray(n))for(let[r,a]of n.entries())te(e,ee(t,r.toString()),a);else n instanceof Date?e.push([t,n.toISOString()]):"boolean"==typeof n?e.push([t,n?"1":"0"]):"string"==typeof n?e.push([t,n]):"number"==typeof n?e.push([t,`${n}`]):null==n?e.push([t,""]):X(n,t,e)}var ne,re,ae=n(5466),oe=n(3781),ie=n(476),le=((re=le||{})[re.Open=0]="Open",re[re.Closed=1]="Closed",re),ue=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ue||{}),se=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(se||{}),ce=((ne=ce||{})[ne.OpenListbox=0]="OpenListbox",ne[ne.CloseListbox=1]="CloseListbox",ne[ne.GoToOption=2]="GoToOption",ne[ne.Search=3]="Search",ne[ne.ClearSearch=4]="ClearSearch",ne[ne.RegisterOption=5]="RegisterOption",ne[ne.UnregisterOption=6]="UnregisterOption",ne[ne.RegisterLabel=7]="RegisterLabel",ne);function de(e,t=(e=>e)){let n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,r=(0,B.z2)(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),a=n?r.indexOf(n):null;return-1===a&&(a=null),{options:r,activeOptionIndex:a}}let pe={1:e=>e.dataRef.current.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0(e){if(e.dataRef.current.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex((e=>n(e.dataRef.current.value)));return-1!==r&&(t=r),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var n;if(e.dataRef.current.disabled||1===e.listboxState)return e;let r=de(e),a=(0,G.d)(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:a,activationTrigger:null!=(n=t.trigger)?n:1}},3:(e,t)=>{if(e.dataRef.current.disabled||1===e.listboxState)return e;let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),a=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find((e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))})),o=a?e.options.indexOf(a):-1;return-1===o||o===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:o,activationTrigger:1}},4:e=>e.dataRef.current.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=de(e,(e=>[...e,n]));return null===e.activeOptionIndex&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=de(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},fe=(0,s.createContext)(null);function ve(e){let t=(0,s.useContext)(fe);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ve),t}return t}fe.displayName="ListboxActionsContext";let be=(0,s.createContext)(null);function ge(e){let t=(0,s.useContext)(be);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ge),t}return t}function he(e,t){return(0,V.E)(t.type,pe,e,t)}be.displayName="ListboxDataContext";let xe=s.Fragment,me=F.AN.RenderStrategy|F.AN.Static,ye=(0,F.yV)((function(e,t){let{value:n,defaultValue:r,name:a,onChange:o,by:i=((e,t)=>e===t),disabled:l=!1,horizontal:u=!1,multiple:c=!1,...d}=e;const p=u?"horizontal":"vertical";let f=(0,_.T)(t),[v=(c?[]:void 0),b]=function(e,t,n){let[r,a]=(0,s.useState)(n),o=void 0!==e,i=(0,s.useRef)(o),l=(0,s.useRef)(!1),u=(0,s.useRef)(!1);return!o||i.current||l.current?!o&&i.current&&!u.current&&(u.current=!0,i.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(l.current=!0,i.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[o?e:r,(0,oe.z)((e=>(o||a(e),null==t?void 0:t(e))))]}(n,o,r),[g,h]=(0,s.useReducer)(he,{dataRef:(0,s.createRef)(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),x=(0,s.useRef)({static:!1,hold:!1}),m=(0,s.useRef)(null),y=(0,s.useRef)(null),R=(0,s.useRef)(null),O=(0,oe.z)("string"==typeof i?(e,t)=>{let n=i;return(null==e?void 0:e[n])===(null==t?void 0:t[n])}:i),C=(0,s.useCallback)((e=>(0,V.E)(j.mode,{1:()=>v.some((t=>O(t,e))),0:()=>O(v,e)})),[v]),j=(0,s.useMemo)((()=>({...g,value:v,disabled:l,mode:c?1:0,orientation:p,compare:O,isSelected:C,optionsPropsRef:x,labelRef:m,buttonRef:y,optionsRef:R})),[v,l,c,g]);(0,U.e)((()=>{g.dataRef.current=j}),[j]),(0,K.O)([j.buttonRef,j.optionsRef],((e,t)=>{var n;h({type:1}),(0,B.sP)(t,B.tJ.Loose)||(e.preventDefault(),null==(n=j.buttonRef.current)||n.focus())}),0===j.listboxState);let E=(0,s.useMemo)((()=>({open:0===j.listboxState,disabled:l,value:v})),[j,l,v]),S=(0,oe.z)((e=>{let t=j.options.find((t=>t.id===e));t&&w(t.dataRef.current.value)})),T=(0,oe.z)((()=>{if(null!==j.activeOptionIndex){let{dataRef:e,id:t}=j.options[j.activeOptionIndex];w(e.current.value),h({type:2,focus:G.T.Specific,id:t})}})),P=(0,oe.z)((()=>h({type:0}))),N=(0,oe.z)((()=>h({type:1}))),I=(0,oe.z)(((e,t,n)=>e===G.T.Specific?h({type:2,focus:G.T.Specific,id:t,trigger:n}):h({type:2,focus:e,trigger:n}))),L=(0,oe.z)(((e,t)=>(h({type:5,id:e,dataRef:t}),()=>h({type:6,id:e})))),A=(0,oe.z)((e=>(h({type:7,id:e}),()=>h({type:7,id:null})))),w=(0,oe.z)((e=>(0,V.E)(j.mode,{0:()=>null==b?void 0:b(e),1(){let t=j.value.slice(),n=t.findIndex((t=>O(t,e)));return-1===n?t.push(e):t.splice(n,1),null==b?void 0:b(t)}}))),D=(0,oe.z)((e=>h({type:3,value:e}))),M=(0,oe.z)((()=>h({type:4}))),z=(0,s.useMemo)((()=>({onChange:w,registerOption:L,registerLabel:A,goToOption:I,closeListbox:N,openListbox:P,selectActiveOption:T,selectOption:S,search:D,clearSearch:M})),[]),Z={ref:f},Y=(0,s.useRef)(null),$=(0,k.G)();return(0,s.useEffect)((()=>{Y.current&&void 0!==r&&$.addEventListener(Y.current,"reset",(()=>{w(r)}))}),[Y,w]),s.createElement(fe.Provider,{value:z},s.createElement(be.Provider,{value:j},s.createElement(W.up,{value:(0,V.E)(j.listboxState,{0:W.ZM.Open,1:W.ZM.Closed})},null!=a&&null!=v&&X({[a]:v}).map((([e,t],n)=>s.createElement(J,{features:q.Hidden,ref:0===n?e=>{var t;Y.current=null!=(t=null==e?void 0:e.closest("form"))?t:null}:void 0,...(0,F.oA)({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:e,value:t})}))),(0,F.sY)({ourProps:Z,theirProps:d,slot:E,defaultTag:xe,name:"Listbox"}))))})),Re=(0,F.yV)((function(e,t){var n;let r=(0,D.M)(),{id:a=`headlessui-listbox-button-${r}`,...o}=e,i=ge("Listbox.Button"),l=ve("Listbox.Button"),u=(0,_.T)(i.buttonRef,t),c=(0,k.G)(),d=(0,oe.z)((e=>{switch(e.key){case $.R.Space:case $.R.Enter:case $.R.ArrowDown:e.preventDefault(),l.openListbox(),c.nextFrame((()=>{i.value||l.goToOption(G.T.First)}));break;case $.R.ArrowUp:e.preventDefault(),l.openListbox(),c.nextFrame((()=>{i.value||l.goToOption(G.T.Last)}))}})),p=(0,oe.z)((e=>{e.key===$.R.Space&&e.preventDefault()})),f=(0,oe.z)((e=>{if((0,Q.P)(e.currentTarget))return e.preventDefault();0===i.listboxState?(l.closeListbox(),c.nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),l.openListbox())})),v=z((()=>{if(i.labelId)return[i.labelId,a].join(" ")}),[i.labelId,a]),b=(0,s.useMemo)((()=>({open:0===i.listboxState,disabled:i.disabled,value:i.value})),[i]),g={ref:u,id:a,type:(0,H.f)(e,i.buttonRef),"aria-haspopup":"listbox","aria-controls":null==(n=i.optionsRef.current)?void 0:n.id,"aria-expanded":i.disabled?void 0:0===i.listboxState,"aria-labelledby":v,disabled:i.disabled,onKeyDown:d,onKeyUp:p,onClick:f};return(0,F.sY)({ourProps:g,theirProps:o,slot:b,defaultTag:"button",name:"Listbox.Button"})})),Oe=(0,F.yV)((function(e,t){let n=(0,D.M)(),{id:r=`headlessui-listbox-label-${n}`,...a}=e,o=ge("Listbox.Label"),i=ve("Listbox.Label"),l=(0,_.T)(o.labelRef,t);(0,U.e)((()=>i.registerLabel(r)),[r]);let u=(0,oe.z)((()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),c=(0,s.useMemo)((()=>({open:0===o.listboxState,disabled:o.disabled})),[o]);return(0,F.sY)({ourProps:{ref:l,id:r,onClick:u},theirProps:a,slot:c,defaultTag:"label",name:"Listbox.Label"})})),Ce=(0,F.yV)((function(e,t){var n;let r=(0,D.M)(),{id:a=`headlessui-listbox-options-${r}`,...o}=e,i=ge("Listbox.Options"),l=ve("Listbox.Options"),u=(0,_.T)(i.optionsRef,t),c=(0,k.G)(),d=(0,k.G)(),p=(0,W.oJ)(),f=null!==p?(p&W.ZM.Open)===W.ZM.Open:0===i.listboxState;(0,s.useEffect)((()=>{var e;let t=i.optionsRef.current;t&&0===i.listboxState&&t!==(null==(e=(0,ae.r)(t))?void 0:e.activeElement)&&t.focus({preventScroll:!0})}),[i.listboxState,i.optionsRef]);let v=(0,oe.z)((e=>{switch(d.dispose(),e.key){case $.R.Space:if(""!==i.searchQuery)return e.preventDefault(),e.stopPropagation(),l.search(e.key);case $.R.Enter:if(e.preventDefault(),e.stopPropagation(),null!==i.activeOptionIndex){let{dataRef:e}=i.options[i.activeOptionIndex];l.onChange(e.current.value)}0===i.mode&&(l.closeListbox(),(0,Y.k)().nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})})));break;case(0,V.E)(i.orientation,{vertical:$.R.ArrowDown,horizontal:$.R.ArrowRight}):return e.preventDefault(),e.stopPropagation(),l.goToOption(G.T.Next);case(0,V.E)(i.orientation,{vertical:$.R.ArrowUp,horizontal:$.R.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),l.goToOption(G.T.Previous);case $.R.Home:case $.R.PageUp:return e.preventDefault(),e.stopPropagation(),l.goToOption(G.T.First);case $.R.End:case $.R.PageDown:return e.preventDefault(),e.stopPropagation(),l.goToOption(G.T.Last);case $.R.Escape:return e.preventDefault(),e.stopPropagation(),l.closeListbox(),c.nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case $.R.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(l.search(e.key),d.setTimeout((()=>l.clearSearch()),350))}})),b=z((()=>{var e,t,n;return null!=(n=null==(e=i.labelRef.current)?void 0:e.id)?n:null==(t=i.buttonRef.current)?void 0:t.id}),[i.labelRef.current,i.buttonRef.current]),g=(0,s.useMemo)((()=>({open:0===i.listboxState})),[i]),h={"aria-activedescendant":null===i.activeOptionIndex||null==(n=i.options[i.activeOptionIndex])?void 0:n.id,"aria-multiselectable":1===i.mode||void 0,"aria-labelledby":b,"aria-orientation":i.orientation,id:a,onKeyDown:v,role:"listbox",tabIndex:0,ref:u};return(0,F.sY)({ourProps:h,theirProps:o,slot:g,defaultTag:"ul",features:me,visible:f,name:"Listbox.Options"})})),je=(0,F.yV)((function(e,t){let n=(0,D.M)(),{id:r=`headlessui-listbox-option-${n}`,disabled:a=!1,value:o,...i}=e,l=ge("Listbox.Option"),u=ve("Listbox.Option"),c=null!==l.activeOptionIndex&&l.options[l.activeOptionIndex].id===r,d=l.isSelected(o),p=(0,s.useRef)(null),f=(0,M.E)({disabled:a,value:o,domRef:p,get textValue(){var e,t;return null==(t=null==(e=p.current)?void 0:e.textContent)?void 0:t.toLowerCase()}}),v=(0,_.T)(t,p);(0,U.e)((()=>{if(0!==l.listboxState||!c||0===l.activationTrigger)return;let e=(0,Y.k)();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=p.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[p,c,l.listboxState,l.activationTrigger,l.activeOptionIndex]),(0,U.e)((()=>u.registerOption(r,f)),[f,r]);let b=(0,oe.z)((e=>{if(a)return e.preventDefault();u.onChange(o),0===l.mode&&(u.closeListbox(),(0,Y.k)().nextFrame((()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})})))})),g=(0,oe.z)((()=>{if(a)return u.goToOption(G.T.Nothing);u.goToOption(G.T.Specific,r)})),h=(0,ie.g)(),x=(0,oe.z)((e=>h.update(e))),m=(0,oe.z)((e=>{h.wasMoved(e)&&(a||c||u.goToOption(G.T.Specific,r,0))})),y=(0,oe.z)((e=>{h.wasMoved(e)&&(a||c&&u.goToOption(G.T.Nothing))})),R=(0,s.useMemo)((()=>({active:c,selected:d,disabled:a})),[c,d,a]);return(0,F.sY)({ourProps:{id:r,ref:v,role:"option",tabIndex:!0===a?void 0:-1,"aria-disabled":!0===a||void 0,"aria-selected":d,disabled:void 0,onClick:b,onFocus:g,onPointerEnter:x,onMouseEnter:x,onPointerMove:m,onMouseMove:m,onPointerLeave:y,onMouseLeave:y},theirProps:i,slot:R,defaultTag:"li",name:"Listbox.Option"})})),Ee=Object.assign(ye,{Button:Re,Label:Oe,Options:Ce,Option:je});var Se=n(5255),Te=n(2047);var Pe=n(5893),Ne={"bottom left":"oFXYv","bottom right":"Jl5DR","top right":"c68gv","top left":"aacUe"};function Ie(e){var t=e.className,n=e.items,r=e.value,a=e.defaultValue,i=e.onChange,l=e.readonly,c=e.direction,d=void 0===c?"bottom right":c,p=e.label,f=[Ne[d]];return(0,Pe.jsxs)(Te.U,{gap:"4",children:[p&&(0,Pe.jsx)("span",{children:p+">"}),(0,Pe.jsxs)(Ee,{disabled:l,as:"div",className:(0,o.A)("Lsvjv",{},[t]),value:r,onChange:i,children:[(0,Pe.jsx)(Ee.Button,{className:"qrO2m",children:(0,Pe.jsx)(Se.zx,{disabled:l,children:null!=r?r:a})}),(0,Pe.jsx)(Ee.Options,{className:(0,o.A)("V57wM",{},f),children:null==n?void 0:n.map((function(e){return(0,Pe.jsx)(Ee.Option,{value:e.value,disabled:e.disabled,as:s.Fragment,children:function(t){var n,r=t.active,a=t.selected;return(0,Pe.jsxs)("li",{className:(0,o.A)("mBjSA",(n={},(0,u.Z)(n,"lE7ga",r),(0,u.Z)(n,"yYTJV",e.disabled),n)),children:[a&&"✓",e.content]})}},e.value)}))})]})]})}var Le=[{value:w.RUB,content:w.RUB},{value:w.EUR,content:w.EUR},{value:w.USD,content:w.USD}];const Ae=(0,s.memo)((function(e){var t=e.className,n=e.value,a=e.onChange,o=e.readonly,i=(0,r.$)("profile").t,l=(0,s.useCallback)((function(e){null==a||a(e)}),[a]);return(0,Pe.jsx)(Ie,{className:t,value:n,defaultValue:i("Choose a currency"),label:i("Choose a currency"),onChange:l,items:Le,readonly:o,direction:"top right"})}));var we=function(e){return e.Russia="Russia",e.Ukraine="Ukraine",e.Armenia="Armenia",e}({}),ke=[{value:we.Russia,content:we.Russia},{value:we.Ukraine,content:we.Ukraine},{value:we.Armenia,content:we.Armenia}];const De=(0,s.memo)((function(e){var t=e.className,n=e.value,a=e.onChange,o=e.readonly,i=(0,r.$)("profile").t,l=(0,s.useCallback)((function(e){null==a||a(e)}),[a]);return(0,Pe.jsx)(Ie,{className:t,value:n,defaultValue:i("Choose a country"),label:i("Choose a country"),onChange:l,items:ke,readonly:o,direction:"top right"})})),Ue={ProfileCard:"wW9jg",loading:"t07Zx",error:"i5YK3",editing:"DjTe7"};var Me=function(e){var t=e.className,n=e.data,a=e.isLoading,i=e.error,l=e.readonly,s=e.onChangeFirstname,c=e.onChangeLastname,d=e.onChangeCity,p=e.onChangeAge,f=e.onChangeUsername,v=e.onChangeAvatar,b=e.onChangeCountry,g=e.onChangeCurrency,h=(0,r.$)("profile").t;if(a)return(0,Pe.jsx)(Te.U,{justify:"center",max:!0,className:(0,o.A)(Ue.ProfileCard,{},[t,Ue.loading]),children:(0,Pe.jsx)(L.Z,{})});if(i)return(0,Pe.jsx)(Te.U,{justify:"center",max:!0,className:(0,o.A)(Ue.ProfileCard,{},[t,Ue.error]),children:(0,Pe.jsx)(N.xv,{theme:N.lg.ERROR,title:h("Mistake is happened"),text:h("Try again"),align:N.PH.CENTER})});var x=(0,u.Z)({},Ue.editing,!l);return(0,Pe.jsxs)(Te.g,{max:!0,gap:"8",className:(0,o.A)(Ue.ProfileCard,x,[t]),children:[(null==n?void 0:n.avatar)&&(0,Pe.jsx)(Te.U,{justify:"center",max:!0,className:Ue.avatarWrapper,children:(0,Pe.jsx)(A.q,{src:null==n?void 0:n.avatar})}),(0,Pe.jsx)(I.I,{value:null==n?void 0:n.first,placeholder:h("Your name"),className:Ue.input,onChange:s,readonly:l}),(0,Pe.jsx)(I.I,{value:null==n?void 0:n.lastname,placeholder:h("Your surname"),className:Ue.input,onChange:c,readonly:l}),(0,Pe.jsx)(I.I,{onKeyPress:function(e){/[0-9]/.test(e.key)||e.preventDefault()},value:null==n?void 0:n.age,placeholder:h("Age"),className:Ue.input,onChange:p,readonly:l}),(0,Pe.jsx)(I.I,{value:null==n?void 0:n.city,placeholder:h("City"),className:Ue.input,onChange:d,readonly:l}),(0,Pe.jsx)(I.I,{value:null==n?void 0:n.username,placeholder:h("Username"),className:Ue.input,onChange:f,readonly:l}),(0,Pe.jsx)(I.I,{value:null==n?void 0:n.avatar,placeholder:h("Avatar"),className:Ue.input,onChange:v,readonly:l}),(0,Pe.jsx)(Ae,{className:Ue.input,value:null==n?void 0:n.currency,onChange:g,readonly:l}),(0,Pe.jsx)(De,{className:Ue.input,value:null==n?void 0:n.country,onChange:b,readonly:l})]})},ze=n(5401),Ze=n(9970),_e=n(1233),Fe=function(e){var t;return null==e||null===(t=e.profile)||void 0===t?void 0:t.data},Ve=n(3381),Ye=n(3363);const $e=(0,s.memo)((function(e){var t=e.className,n=(0,r.$)("profile").t,a=(0,c.v9)(T),i=(0,c.v9)(Ve.m5),l=(0,c.v9)(Fe),u=(0,ze.T)(),d=(null==i?void 0:i.id)===(null==l?void 0:l.id),p=(0,s.useCallback)((function(){u(E.setReadonly(!1))}),[u]),f=(0,s.useCallback)((function(){u(E.cancelEdit())}),[u]),v=(0,s.useCallback)((function(){u(R())}),[u]);return(0,Pe.jsxs)(Ye.U,{max:!0,justify:"between",className:(0,o.A)("",{},[t]),children:[(0,Pe.jsx)(N.xv,{title:n("Profile")}),d&&(0,Pe.jsx)(Pe.Fragment,{children:a?(0,Pe.jsx)(Se.zx,{theme:Se.bn.OUTLINE,onClick:p,children:n("Edit")}):(0,Pe.jsxs)(Ye.U,{gap:"8",children:[(0,Pe.jsx)(Se.zx,{theme:Se.bn.OUTLINE_RED,onClick:f,children:n("Cancel")}),(0,Pe.jsx)(Se.zx,{theme:Se.bn.OUTLINE,onClick:v,children:n("Save")})]})})]})}));var Ge={profile:S},Qe=(0,s.memo)((function(e){var t,n=e.className,a=e.id,i=(0,r.$)("profile"),l=i.t,d=(i.i18n,(0,ze.T)()),p=(0,c.v9)(x),f=(0,c.v9)(h),v=(0,c.v9)(g),y=(0,c.v9)(T),R=(0,c.v9)(P),O=(t={},(0,u.Z)(t,m.SERVER_ERROR,l("Server error")),(0,u.Z)(t,m.NO_DATA,l("Data is absented")),(0,u.Z)(t,m.INCORRECT_USER_DATA,l("Incorrect user data")),(0,u.Z)(t,m.INCORRECT_COUNTRY,l("Incorrect country")),(0,u.Z)(t,m.INCORRECT_AGE,l("Incorrect age")),t);(0,Ze.Q)((function(){a&&d(b(a))}));var C=(0,s.useCallback)((function(e){d(E.updateProfile({first:e||""}))}),[d]),j=(0,s.useCallback)((function(e){d(E.updateProfile({lastname:e||""}))}),[d]),S=(0,s.useCallback)((function(e){d(E.updateProfile({age:Number(e||0)}))}),[d]),I=(0,s.useCallback)((function(e){d(E.updateProfile({city:e||""}))}),[d]),L=(0,s.useCallback)((function(e){d(E.updateProfile({username:e||""}))}),[d]),A=(0,s.useCallback)((function(e){d(E.updateProfile({avatar:e||""}))}),[d]),w=(0,s.useCallback)((function(e){d(E.updateProfile({currency:e}))}),[d]),k=(0,s.useCallback)((function(e){d(E.updateProfile({country:e}))}),[d]);return(0,Pe.jsx)(_e.W,{reducers:Ge,removeAfterUnmount:!0,children:(0,Pe.jsxs)(Te.g,{gap:"8",max:!0,className:(0,o.A)("",{},[n]),children:[(0,Pe.jsx)($e,{}),(null==R?void 0:R.length)&&R.map((function(e){return(0,Pe.jsx)(N.xv,{theme:N.lg.ERROR,text:O[e]},e)})),(0,Pe.jsx)(Me,{data:p,isLoading:f,error:v,onChangeFirstname:C,onChangeLastname:j,onChangeAge:S,onChangeCity:I,onChangeUsername:L,onChangeAvatar:A,onChangeCurrency:w,onChangeCountry:k,readonly:y})]})})}));const Be=function(e){var t=e.className,n=(0,r.$)("profile"),u=(n.t,n.i18n,(0,a.UO)().id);return(0,Pe.jsx)(i.Z,{className:(0,o.A)("",{},[t]),children:(0,Pe.jsx)(l.g,{max:!0,gap:"16",children:(0,Pe.jsx)(Qe,{id:u})})})}},1233:(e,t,n)=>{n.d(t,{W:()=>l});var r=n(9439),a=n(7294),o=n(9319),i=n(5893),l=function(e){var t=e.children,n=e.reducers,l=e.removeAfterUnmount,u=(0,o.oR)(),s=(0,o.I0)();return(0,a.useEffect)((function(){var e=u.reducerManager.getMountedReducers();return Object.entries(n).forEach((function(t){var n=(0,r.Z)(t,2),a=n[0],o=n[1];e[a]||(u.reducerManager.add(a,o),s({type:"@INIT ".concat(a," reducer")}))})),function(){l&&Object.entries(n).forEach((function(e){var t=(0,r.Z)(e,2),n=t[0];t[1],u.reducerManager.remove(n),s({type:"@DESTROY ".concat(n," reducer")})}))}}),[]),(0,i.jsx)(i.Fragment,{children:t})}},8312:(e,t,n)=>{n.d(t,{I:()=>p});var r=n(4942),a=n(9439),o=n(4925),i=n(3007),l=n(7294);var u=n(5893),s=["className","value","onChange","type","placeholder","autofocus","readonly"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=(0,l.memo)((function(e){var t=e.className,n=e.value,c=e.onChange,p=e.type,f=void 0===p?"text":p,v=e.placeholder,b=e.autofocus,g=e.readonly,h=(0,o.Z)(e,s),x=(0,l.useState)(!1),m=(0,a.Z)(x,2),y=m[0],R=m[1],O=(0,l.useState)(0),C=(0,a.Z)(O,2),j=C[0],E=C[1],S=(0,l.useRef)(null),T=y&&!g;return(0,l.useEffect)((function(){var e;b&&(R(!0),null===(e=S.current)||void 0===e||e.focus())}),[b]),(0,r.Z)({},"fTN1P",g),(0,u.jsxs)("div",{className:(0,i.A)("yiPAS",{},[t]),children:[v&&(0,u.jsx)("div",{className:"emAQQ",children:"".concat(v,">")}),(0,u.jsxs)("div",{className:"y1GiF",children:[(0,u.jsx)("input",d({ref:S,type:f,value:n,onChange:function(e){null==c||c(e.target.value),E(e.target.value.length)},className:"LVdIP",onFocus:function(){R(!0)},onBlur:function(){R(!1)},onSelect:function(e){var t;E((null==e||null===(t=e.target)||void 0===t?void 0:t.selectionStart)||0)},readOnly:g},h)),T&&(0,u.jsx)("span",{className:"lqMFG",style:{left:"".concat(9*j,"px")}})]})]})}))},3363:(e,t,n)=>{n.d(t,{U:()=>l});var r=n(4942),a=n(3562),o=n(5893);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var l=function(e){return(0,o.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({direction:"row"},e))}}}]);